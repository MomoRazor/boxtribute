type Box {
  id: ID!
  boxLabelIdentifier: String!
  location: Location!
  items: Int!
  product: Product!
  gender: ProductGender
  # A size from a size range, consider making this enum
  size: String!
  state: BoxState!
  qrCode: QrCode!
  createdBy: String!
  createdOn: Datetime!
  # The user who last changed something about the box
  lastModifiedBy: String!
  lastModifiedOn: Datetime!
  comment: String
}

type QrCode {
  id: ID!
  code: String!
  box: Box
  createdOn: Datetime
  # The user who generated QR code
  createdBy: String!
}

type Product {
  id: ID!
  name: String!
  category: ProductCategory!
  sizeRange: SizeRange!
  sizes: [String!]!
  base: Base!
  price: Float
  gender: ProductGender
  createdBy: String!
  createdOn: Datetime!
  # The user who last changed something about the box
  lastModifiedBy: String!
  lastModifiedOn: Datetime!
}

type ProductCategory {
  id: ID!
  name: String!
  products: [Product]
  sizeRanges: [SizeRange]
  # Non-clothing categories don't have a product gender
  hasGender: Boolean!
}

enum ProductGender {
  Men
  Women
  UnisexAdult
  UnisexChild
  UnisexBaby
  TeenGirl
  TeenBoy
  Girl
  Boy
}

enum BoxState {
  InStock
  Lost
  Ordered
  Picked
  Donated
  Scrap
}

type SizeRange {
  id: ID!
  label: String!
  sizes: [String!]!
  productCategory: [ProductCategory!]
}

type Location {
  id: ID!
  base: Base!
  name: String
  isShop: Boolean!
  isDeleted: Boolean!
  # List of all the boxes in the location
  boxes: [Box!]
  boxState: BoxState
  createdOn: Datetime!
  # The user who generated QR code
  createdBy: String!
  lastModifiedBy: String!
  lastModifiedOn: Datetime!
}

type Base {
  id: ID!
  name: String!
  organisation: Organisation!
  locations: [Location!]
  currencyName: String
}

type Organisation {
  id: ID!
  name: String!
  bases: [Base!]
}

type User {
  id: ID!
  organisation: Organisation
  name: String
  email: String!
  validFirstDay: Date
  validLastDay: Date
  bases: [Base]
  lastLogin: Datetime
  lastAction: Datetime
}

# all below is speculative #
type Order {
  id: ID!
  fromLocation: String!
  toLocation: String!
  # If null means internal transfer
  fromOrg: Int
  # If null means internal transfer
  toOrg: Int
  boxes: Box!
  # If box state of all ordered boxes have not yet been changed, then it is active
  isActive: Boolean!
  createdBy: String!
  createdOn: Datetime!
  lastModifiedBy: String
  # Need to change int to custom scalar for datetime
  lastModifiedOn: Int
}

input CreateBoxInput {
  box_id: String #this is an output, but not an input
  product_id: Int! #this is a foreign key
  size_id: Int #this is a foreign key
  items: Int
  location_id: Int! #this is a foreign key
  comment: String!
  #this will get looked up to turn into qr_id, which is a foreign key
  qr_barcode: String!
  created: Datetime #this is an output, but not an input
  created_by: String #this is null in the table consistently
  box_state_id: Int #this is an output, but not an input
}

scalar Datetime
scalar Date
